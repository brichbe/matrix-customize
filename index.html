<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" href="matrix.css">
<link rel="stylesheet" href="jquery-ui.min.css">
<script type="text/javascript" src="js/matrix.js"></script>
<script type="text/javascript" src="js/util.js"></script>
<script type="text/javascript" src="js/jscolor.min.js"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<title>Matrix - Customized</title>
</head>
<body style="margin: 0">
	<canvas id="matrixCanvas"></canvas>
	<button id="menuButton"
		class="ui-button ui-widget ui-corner-all ui-button-icon-only"
		title="Configure Options"></button>

	<script>
	$( function() {
	$( "#configDialog" ).dialog({
    	autoOpen: true,
      	resizable: false,
      	height: "auto",
      	width: 400,
      	modal: true,
      	show: {
        	effect: "fold",
        	duration: 500
      	},
      	hide: {
        	effect: "fade",
        	duration: 500
      	},
      	buttons: {
        	"Apply Settings": function() {
        		var canvas = document.getElementById("matrixCanvas");
				window.runAnimation(canvas, 65, 26, false, 33);
          		$( this ).dialog( "close" );
        	},
        	"Cancel": function() {
          		$( this ).dialog( "close" );
        	}
      },
      beforeClose: function( event, ui ) {
      		$( "#configDialogWarningText" ).text("");
      		if (!window.isAnimationActive()) {
      			$( this ).parent().effect("shake");
      			$( "#configDialogWarningText" ).text("Settings must be applied to begin.");
      			return false;
      		}
      		return true;
      }
    });
    
    $('#menuButton').click(function(){
    	$( function() {
    		$( "#configDialog" ).dialog("open");
  		});
    });
  });
</script>

	<div id="configDialog" title="Configure Settings">
		<p id="configDialogWarningText"></p>
	</div>
</body>
</html>